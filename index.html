<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>BOMZH VS ZOMBIE: INFINITY</title>
    <style>
        body { background: #0a0a0a; color: #eee; font-family: 'Arial', sans-serif; text-align: center; user-select: none; }
        .game-window { background: #1a1a1a; border: 3px solid #333; border-radius: 20px; width: 350px; margin: 20px auto; padding: 20px; box-shadow: 0 0 20px rgba(255,0,0,0.2); }
        
        .header { font-size: 22px; color: #ff4444; font-weight: bold; margin-bottom: 15px; }
        
        /* –ó–æ–º–±–∏ –∑–æ–Ω–∞ */
        .zombie-box { background: #222; border-radius: 15px; padding: 15px; border: 1px solid #444; margin-bottom: 15px; }
        .zombie-icon { font-size: 80px; height: 100px; display: flex; align-items: center; justify-content: center; }
        
        .bar { width: 100%; height: 12px; background: #333; border-radius: 6px; overflow: hidden; margin: 5px 0; border: 1px solid #000; }
        .fill-red { height: 100%; background: #ff0000; width: 100%; }
        .fill-blue { height: 100%; background: #0088ff; width: 100%; }

        /* –ö–Ω–æ–ø–∫–∞ —É–¥–∞—Ä–∞ –ë–ï–ó –ö–î */
        .hit-btn { 
            background: linear-gradient(#ff6600, #992200); color: white; border: none; padding: 20px; width: 100%; 
            font-size: 24px; font-weight: bold; border-radius: 12px; cursor: pointer;
            box-shadow: 0 5px 0 #661100; margin-bottom: 20px;
        }
        .hit-btn:active { transform: translateY(3px); box-shadow: none; }

        .stats { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 15px; }
        .stat-item { background: #252525; padding: 10px; border-radius: 8px; font-size: 14px; }
        .stat-item b { color: #00ff88; font-size: 16px; display: block; }

        /* –ú–∞–≥–∞–∑–∏–Ω */
        .shop { text-align: left; background: #222; padding: 10px; border-radius: 10px; border: 1px solid #333; }
        .shop-btn { 
            width: 100%; padding: 10px; margin: 5px 0; cursor: pointer; 
            background: #333; color: white; border: 1px solid #555; border-radius: 6px;
            display: flex; justify-content: space-between; font-size: 13px;
        }
        .shop-btn:disabled { opacity: 0.3; }
        .prestige { background: #ff0000 !important; color: white; font-weight: bold; margin-top: 10px; }
    </style>
</head>
<body>

<div class="game-window">
    <div class="header">ZOMBIE APOCALYPSE</div>
    
    <div class="zombie-box">
        <div id="z-name" style="color: #ff4444; font-size: 14px;">–ì–Ω–∏–ª–æ–π –∑–æ–º–±–∏</div>
        <div id="z-icon" class="zombie-icon">üßü</div>
        <div style="font-size: 10px;">HP –ó–æ–º–±–∏</div>
        <div class="bar"><div id="z-hp" class="fill-red"></div></div>
    </div>

    <button class="hit-btn" onmousedown="hit()">–£–î–ê–†–ò–¢–¨!</button>

    <div class="stats">
        <div class="stat-item">–ë—É—Ç—ã–ª–∫–∏ <b id="m-money">0</b></div>
        <div class="stat-item">–£—Ä–æ–Ω <b id="m-dmg">2</b></div>
        <div class="stat-item">–ú–Ω–æ–∂–∏—Ç–µ–ª—å <b id="m-mult">x1</b></div>
        <div class="stat-item">–¢–≤–æ—ë HP <div class="bar" style="height:6px;"><div id="p-hp" class="fill-blue"></div></div></div>
    </div>

    <div class="shop">
        <button id="s-wep" class="shop-btn" onclick="buy('wep')"><span>üî™ –ù–æ–∂ (+5 —É—Ä–æ–Ω)</span> <b id="c-wep">30</b></button>
        <button id="s-auto" class="shop-btn" onclick="buy('auto')"><span>ü§ù –ö–æ—Ä–µ—à (–ê–≤—Ç–æ)</span> <b id="c-auto">100</b></button>
        <button id="s-heal" class="shop-btn" onclick="buy('heal')"><span>ü•ô –®–∞—É—Ä–º–∞ (–•–∏–ª)</span> <b>15</b></button>
        <button id="s-prestige" class="shop-btn prestige" onclick="prestige()" style="display:none;">–ü–ï–†–ï–†–û–ñ–î–ï–ù–ò–ï (x2 –±–æ–Ω—É—Å)</button>
    </div>
</div>

<script>
    // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–ª–∏ —Å—Ç–∞—Ä—Ç
    let state = JSON.parse(localStorage.getItem('zombie_save')) || {
        money: 0, dmg: 2, mult: 1, auto: 0, lvl: 1, cWep: 30, cAuto: 100
    };

    let pHP = 100, zHP = 15, zMax = 15, zDmg = 2;
    const zIcons = ["üßü", "üßõ", "üßü‚Äç‚ôÇÔ∏è", "üßü‚Äç‚ôÄÔ∏è"];

    // –í—Ä–∞–≥ –±—å–µ—Ç —Ç–µ–±—è
    setInterval(() => {
        pHP -= zDmg;
        if (pHP <= 0) {
            alert("–ó–æ–º–±–∏ —Ç–µ–±—è –∑–∞–≥—Ä—ã–∑–ª–∏! –ü–æ—Ç–µ—Ä—è–ª 20% –±—É—Ç—ã–ª–æ–∫.");
            state.money *= 0.8;
            pHP = 100;
        }
        ui();
    }, 1500);

    // –ê–≤—Ç–æ-—É–¥–∞—Ä –∫–æ—Ä–µ—à–∞
    setInterval(() => {
        if (state.auto > 0) damage(state.auto * state.mult);
    }, 1000);

    // –£–î–ê–† –ë–ï–ó –ö–î
    function hit() {
        damage(state.dmg * state.mult);
        let s = document.getElementById('z-icon');
        s.style.transform = "scale(0.8)";
        setTimeout(() => s.style.transform = "scale(1)", 30);
    }

    function damage(val) {
        zHP -= val;
        if (zHP <= 0) {
            state.money += state.lvl * 5 * state.mult;
            state.lvl++;
            newZombie();
        }
        ui();
    }

    function newZombie() {
        zMax = Math.floor(15 * Math.pow(1.3, state.lvl));
        zHP = zMax;
        zDmg = Math.floor(2 * Math.pow(1.2, state.lvl));
        document.getElementById('z-icon').innerText = zIcons[Math.floor(Math.random() * zIcons.length)];
        document.getElementById('z-name').innerText = "–ó–æ–º–±–∏ –£—Ä. " + state.lvl;
    }

    function buy(t) {
        if (t=='wep' && state.money >= state.cWep) {
            state.money -= state.cWep; state.dmg += 5; state.cWep = Math.floor(state.cWep * 1.5);
        }
        if (t=='auto' && state.money >= state.cAuto) {
            state.money -= state.cAuto; state.auto += 2; state.cAuto = Math.floor(state.cAuto * 1.7);
        }
        if (t=='heal' && state.money >= 15) {
            state.money -= 15; pHP = 100;
        }
        ui();
    }

    function prestige() {
        if (state.money >= 500) {
            state.mult++; state.money = 0; state.dmg = 2; state.auto = 0; state.lvl = 1;
            state.cWep = 30; state.cAuto = 100; pHP = 100;
            newZombie(); ui();
        }
    }

    function ui() {
        document.getElementById('m-money').innerText = Math.floor(state.money);
        document.getElementById('m-dmg').innerText = state.dmg;
        document.getElementById('m-mult').innerText = "x" + state.mult;
        document.getElementById('z-hp').style.width = (zHP/zMax*100) + "%";
        document.getElementById('p-hp').style.width = pHP + "%";
        document.getElementById('c-wep').innerText = state.cWep;
        document.getElementById('c-auto').innerText = state.cAuto;
        
        document.getElementById('s-wep').disabled = state.money < state.cWep;
        document.getElementById('s-auto').disabled = state.money < state.cAuto;
        document.getElementById
