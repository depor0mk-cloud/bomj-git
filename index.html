<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ë–æ–º–∂-–†–ü–ì: –û—Ç–≤–µ—Ç–Ω—ã–π —É–¥–∞—Ä</title>
    <style>
        :root { --neon: #00ff88; --red: #ff4444; --blue: #00d4ff; }
        body { background: #121212; color: white; font-family: sans-serif; display: flex; justify-content: center; padding-top: 30px; }
        .game-window { background: #1e1e1e; border: 2px solid #333; border-radius: 15px; width: 380px; padding: 20px; text-align: center; position: relative; }
        
        /* –í—Ä–∞–≥ */
        #job-tag { background: var(--red); color: white; padding: 2px 10px; border-radius: 5px; font-size: 14px; }
        .sprite-area { height: 120px; font-size: 70px; display: flex; align-items: center; justify-content: center; margin: 10px 0; }
        
        /* –ü–æ–ª–æ—Å–∫–∏ HP */
        .hp-label { font-size: 12px; text-align: left; margin-bottom: 3px; display: block; }
        .hp-bar { width: 100%; height: 12px; background: #333; border-radius: 6px; overflow: hidden; margin-bottom: 10px; border: 1px solid #000; }
        #enemy-hp { height: 100%; width: 100%; background: var(--red); transition: 0.1s; }
        #player-hp { height: 100%; width: 100%; background: var(--blue); transition: 0.3s; }

        .btn-attack {
            background: linear-gradient(180deg, #444, #111);
            color: white; border: 2px solid var(--neon); padding: 15px;
            font-size: 20px; cursor: pointer; border-radius: 10px; width: 100%;
            font-weight: bold; transition: 0.1s;
        }
        .btn-attack:active { transform: scale(0.95); background: var(--neon); color: black; }

        .stats { display: flex; justify-content: space-between; margin: 15px 0; background: #252525; padding: 10px; border-radius: 8px; border: 1px inset #000; }
        .stat-val { color: var(--neon); font-size: 18px; }

        .shop-btn { background: #333; color: #eee; border: 1px solid #555; padding: 8px; margin-top: 5px; cursor: pointer; width: 100%; border-radius: 5px; display: flex; justify-content: space-between; font-size: 13px; }
        .shop-btn:disabled { opacity: 0.3; }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è —É—Ä–æ–Ω–∞ –ø–æ –∏–≥—Ä–æ–∫—É */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); background: #400; }
            50% { transform: translateX(5px); }
            100% { transform: translateX(0); }
        }
        .damage-player { animation: shake 0.2s; }
    </style>
</head>
<body>

<div class="game-window" id="main-window">
    <span id="job-tag">–î–≤–æ—Ä–Ω–∏–∫</span>
    <div class="sprite-area" id="enemy-sprite">üßπ</div>
    
    <span class="hp-label">–ó–¥–æ—Ä–æ–≤—å–µ –≤—Ä–∞–≥–∞:</span>
    <div class="hp-bar"><div id="enemy-hp"></div></div>

    <button class="btn-attack" onclick="playerHit()">–õ–£–ü–ò–¢–¨!</button>

    <div class="stats">
        <div>üçæ <span id="money" class="stat-val">0</span></div>
        <div>üí™ –°–∏–ª–∞: <span id="dmg" class="stat-val">1</span></div>
    </div>

    <span class="hp-label">–¢–≤–æ—è –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å:</span>
    <div class="hp-bar"><div id="player-hp"></div></div>

    <div style="text-align: left;">
        <small style="color:#888">–†—ã–Ω–æ–∫:</small>
        <button id="wep1" class="shop-btn" onclick="buyWeapon(20, 3)"><span>ü•ä –†–≤–∞–Ω—ã–µ –ø–µ—Ä—á–∞—Ç–∫–∏</span><b>20 üçæ</b></button>
        <button id="heal" class="shop-btn" onclick="healPlayer()"><span>ü•ô –®–∞—É—Ä–º–∞ (–õ–µ—á–∏—Ç 50%)</span><b>10 üçæ</b></button>
    </div>
</div>

<script>
    const enemyList = [
        { name: "–î–≤–æ—Ä–Ω–∏–∫", icon: "üßπ", hp: 15, dmg: 2 },
        { name: "–ö—É—Ä—å–µ—Ä", icon: "üì¶", hp: 40, dmg: 5 },
        { name: "–û—Ö—Ä–∞–Ω–Ω–∏–∫", icon: "üî¶", hp: 100, dmg: 10 },
        { name: "–ö–æ–ª–ª–µ–∫—Ç–æ—Ä", icon: "üëî", hp: 250, dmg: 20 }
    ];

    let currentIdx = 0;
    let bottles = 0;
    let playerDmg = 2;
    let playerMaxHP = 100;
    let playerCurHP = 100;
    let enemyMaxHP = enemyList[0].hp;
    let enemyCurHP = enemyMaxHP;

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞—Ç–∞–∫–∞ –≤—Ä–∞–≥–∞ –∫–∞–∂–¥—ã–µ 1.5 —Å–µ–∫—É–Ω–¥—ã
    setInterval(() => {
        enemyHit();
    }, 1500);

    function playerHit() {
        enemyCurHP -= playerDmg;
        const s = document.getElementById('enemy-sprite');
        s.style.transform = "scale(0.8) rotate(15deg)";
        setTimeout(() => s.style.transform = "none", 100);
